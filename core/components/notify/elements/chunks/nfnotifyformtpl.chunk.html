<!-- $modx->lexicon->load('notify:form'); -->

<script type="text/javascript">


    $(document).ready(function (event) {
        $('#nf_notify').click(function () {
            /*alert("Notify Clicked");*/
            if ($('#nf_notify').prop('checked') == true) {
                $('#nf_send_single_section').slideUp("slow");
            } else {
                $('#nf_send_single_section').slideDown("slow");
            }
        });
        $('#nf_send_test_email').click(function () {
            /*$('#mailSubscribeAll').removeAttr('checked');*/
            if ($('#nf_send_test_email').prop('checked') == true) {
                $('#nf_notify_section').slideUp("slow");
                $('#nf_single_user').slideDown("slow");
            } else {
                $('#nf_notify_section').slideDown("slow");
                $('#nf_single_user').slideUp("slow");
            }

        });
    });
    /*function nf_toggle(id) {
        e = document.getElementById(id);
        if (e.style.display == 'block')
            e.style.display = 'none';
        else
            e.style.display = 'block';
    }*/
    /* ]]> */
</script>


<form id="nf_form" action="[[~[[*id]]]]" method="post">
    <input type="hidden" name="submitVar" id="submitVar" value="submitVar"/>
    <input type="hidden" name="pageAlias" id="nf_page_alias" value="[[+pageAlias]]"/>
    <div id="nf_notify_section">
    <label for="nf_notify">
        <input type="checkbox" id="nf_notify" name="nf_notify" [[+nf_notify_checked]]/> [[%nf.notify_subscribers? &namespace=`notify`
        &topic=`form`]]
    </label>
    </div>
    <br/>
    <div id="nf_send_single_section">
    <label for="nf_send_test_email">
        <input type="checkbox" id="nf_send_test_email" name="nf_send_test_email" [[+nf_send_test_email_checked]]
/> [[%nf.send_test_email?
        &namespace=`notify` &topic=`form`]] </label><br/><br/>
<div id="nf_single_user">
    <label for="nf_test_email_address">[[%nf.email_address_for_test? &namespace=`notify` &topic=`form`]]<br/>
        <input type="text" size="50" id="nf_test_email_address" name="nf_test_email_address" value="[[+nf_test_email_address]]"/>
    </label> <br/><br/>
</div>
    </div>

    <label for="nf_email_subject">[[%nf.email_subject? &namespace=`notify` &topic=`form`]]<br/>
        <input type="text" size="50" id="nf_email_subject" name="nf_email_subject" value="[[+nf_email_subject]]"/>
    </label><br/><br/>

    <label for="nf_groups">[[%nf.groups? &namespace=`notify` &topic=`form`]]<br/>
        <input type="text" size="50" id="nf_groups" name="nf_groups" value="[[+nf_groups]]"/>
    </label> <!-- <br/><br/> -->
    [[+nf_group_list]]

    <br />
    <label for="nf_tags">[[%nf.tags? &namespace=`notify` &topic=`form`]]<br/>
        <input type="text" size="50" id="nf_tags" name="nf_tags" value="[[+nf_tags]]"/>
    </label>
    [[+nf_tag_list]]


    <label for="nf_require_all_tags">
        <input type="checkbox" id="nf_require_all_tags" name="nf_require_all_tags" [[+nf_require_checked]]/> [[%nf.require_all_tags?
        &namespace=`notify` &topic=`form`]]
    </label>
    <br/>

    <br/><br/>

    <label for="nf_email_text">[[%nf.text_for_email? &namespace=`notify` &topic=`form`]]<br/>
        <textarea id="nf_email_text" rows="20" cols="70" name="nf_email_text">[[+nf_email_text]]</textarea>
    </label>
    <br/>
    <p>[[%nf.email_preview? &namespace=`notify` &topic=`form`]]</p>
    <iframe src="[[+nf_temp_url]]"></iframe>

    </fieldset>
    <br/><br/>
    <fieldset>

        <label for="nf_send_tweet">[[%nf.notify_twitter? &namespace=`notify` &topic=`form`]]<br/><br/>
            <input type="checkbox" id="nf_send_tweet" name="nf_send_tweet" [[+nf_send_tweet_checked]]/> [[%nf.send_tweet?
            &namespace=`notify` &topic=`form`]]
        </label><br/><br/>


        <label for="nf_tweet_text">[[%nf.text_for_tweet? &namespace=`notify` &topic=`form`]]<br/>
            <input type="text" size="110" maxlength="140" id="nf_tweet_text" name="nf_tweet_text" value="[[+nf_tweet_text]]"/>
        </label>
    </fieldset>
    <div id="nf_wrapper" style="height:10em;">
        <div id="pb_progressOuter">
            <br />


            <div id="pb_textMessages">
                <div id="pb_progressbar"></div>
                <span>Progress: </span>

                <div style="display:inline;" id="pb_percent">0</div>
                <span style="display:inline;">&#x0025;</span>
                <br/>
                <span></span>

                <div id="pb_text1"><span></span></div>
                <br/>
                <span></span>

                <div style="display:inline;" id="pb_text2"><span></span></div>
                <br/>


            </div>
        </div>

        <br/>
        <input id="pb_button" type="button" value="Submit"/>


        <br/>
        <div id="nf_results"><h3>[[%nf.results? &namespace=`notify` &topic=`form`]]</h3></div>
    </div>

</form>

